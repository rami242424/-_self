<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>10.2 프로토타입 (prototype)</title>
</head>
<body>
    <script>
        // <프로토타입 적용 전>
        this.sayYourName = function(){
            console.log(`삐리비리. 제 이름은 ${this.name}입니다. 주인님.`);
        }

        // <프로토타입 적용 후>
        function NewFactory2(name){
            this.name = name;
        }

        NewFactory2.prototype.sayYourName = function(){
            console.log(`삐리비리. 제 이름은 ${this.name}입니다. 주인님.`);
        }
        
        // ㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡ
        프로토타입이란 무엇인가?
        prototype은 특정 객체에 대한 참조입니다. 즉 어떠한 공간을 가리키고 있습니다.
        생성자 함수가 인스턴스를 생성하게 되면 그 안에는 숨겨진 프로퍼티인 [[Prototype]] 이 존재하게 됩니다. 코드상에서는 `__proto__`로 표현됩니다.
        `__proto__` 프로퍼티는 자신을 만든 생성자 함수의 `prototype`을 참조하는 역할을 합니다.
        즉, new 키워드를 통해 생성자 함수의 `prototype`과 인스턴스의 `__proto__` 가 연결됩니다.

        function Test(){};

        const obj = new Test();

        obj.__proto__ === Test.prototype   

        . prototype은 오직 function안에 존재하는 참조값입니다.
        __proto__  는 객체 안에 존재하는 숨겨진 프로퍼티입니다. 
        
        인스턴스는 __proto__를 통해 생성자 함수의 prototype에 접근하여 필요한 여러가지 값과 메서드를 사용할 수 있습니다.

        function Test(){};

        const obj = new Test();

        console.log(obj.prototype); // undefined
        console.log(obj.__proto__ === Test.prototype);  // true 


        // ㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡ



        const


        >robot : NewFactory2(())
        >robot.___proto__ : sayYourName,constructor(생성자)
        >robot.__proto === NewFactory2.prototype : true 

        prototype은 항상 함수안에 존재하는 참조값이다 (like 'this'!)
        ___proto__는 인스턴스, 객체안에 존재하는 프로퍼티다.
        둘은 서로를 참조하고있다.
    </script>
</body>
</html>